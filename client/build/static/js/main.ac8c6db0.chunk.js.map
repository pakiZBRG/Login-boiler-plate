{"version":3,"sources":["assets/login.jpg","assets/register.jpg","assets/activation.jpg","helpers/auth.js","components/Home.jsx","components/Login.jsx","components/Register.jsx","components/Activation.jsx","components/User.jsx","App.js","index.js"],"names":["module","exports","isAuth","token","cookie","get","loggedUser","localStorage","getItem","JSON","parse","Home","match","useState","username","email","userData","setUserData","useEffect","userId","user","length","axios","replace","then","res","id","data","_id","catch","err","toast","error","response","params","className","to","style","marginRight","Login","history","password","handleChange","text","e","target","value","onSubmit","preventDefault","post","next","set","expires","setItem","stringify","authenticate","push","type","onChange","placeholder","autoComplete","margin","fontWeight","src","image","alt","Register","passwordConfirm","success","message","console","log","jwt","decode","User","onClick","remove","removeItem","App","exact","path","component","Activation","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac8c6db0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login.24e18e7d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/register.624ce12d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/activation.527a4225.jpg\";","import cookie from 'js-cookie';\r\n\r\nexport const authenticate = (res, next) => {\r\n    cookie.set('token', res.data.token, {expires: 1});\r\n    localStorage.setItem('user', JSON.stringify(res.data.user.id))\r\n    next();\r\n}\r\n\r\nexport const isAuth = () => {\r\n    const token = cookie.get('token');\r\n    const loggedUser = localStorage.getItem('user');\r\n    if(token && loggedUser){\r\n        return JSON.parse(loggedUser);\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const signout = next => {\r\n    cookie.remove('token', {expires: 1});\r\n    localStorage.removeItem('user');\r\n    next();\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { isAuth } from '../helpers/auth';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function Home({match}) {\r\n    const [userData, setUserData] = useState({\r\n        username: \"\",\r\n        email: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        let userId = localStorage.user;\r\n        if(localStorage.length){\r\n            axios.get(`/users/${userId.replace(/['\"]+/g, '')}`)\r\n                .then(res => {\r\n                    setUserData({\r\n                        id: res.data._id,\r\n                        username: res.data.username,\r\n                        email: res.data.email\r\n                    })\r\n                })\r\n                .catch(err => toast.error(err.response.data.error));\r\n        }\r\n    }, [match.params]);\r\n\r\n    const {username, id} = userData;\r\n\r\n    return (\r\n        <div className='background'>\r\n            \r\n            <div className='background-white'>\r\n                {isAuth() ?\r\n                    <div className='background-login'>\r\n                        <h2>You are currently logged in, {username}</h2>\r\n                        <Link to={`/user/${id}`}>\r\n                            <button><i className='fa fa-user' style={{marginRight: '0.4rem'}}></i>Profile</button>\r\n                        </Link>\r\n                    </div>\r\n                        :\r\n                    <div className='background-login'>\r\n                        <h2>Login or Register to access our content!</h2>\r\n                        <Link to='/login'>\r\n                            <button>\r\n                                <i className='fa fa-user' style={{marginRight: '0.4rem'}}></i>Login\r\n                            </button>\r\n                        </Link>\r\n                        <Link to='/register'>\r\n                            <button>\r\n                                <i className='fa fa-user-plus' style={{marginRight: '0.4rem'}}></i>Register\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport image from '../assets/login.jpg';\r\nimport axios from 'axios';\r\nimport { authenticate, isAuth } from '../helpers/auth';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nexport default function Login({history}) {\r\n    const [userData, setUserData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    const handleChange = text => e => setUserData({...userData, [text]: e.target.value});\r\n    \r\n    const {email, password} = userData;\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if(email && password) { \r\n            axios.post('/users/login', {email ,password})\r\n                .then(res => {\r\n                    authenticate(res, () => {\r\n                        setUserData({\r\n                            ...userData,\r\n                            email: \"\",\r\n                            password: \"\"\r\n                        });\r\n                    });\r\n                    if(isAuth()){\r\n                        history.push(`/user/${res.data.user.id}`);\r\n                    }\r\n                })\r\n                .catch(err => toast.error(err.response.data.error));\r\n        } else {\r\n            toast.error('Please fill all fields');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='background'>\r\n            {isAuth() ? <Redirect to='/'/> : null}\r\n            <ToastContainer/>\r\n            <div className='background-flex'>\r\n                <div className='flex-register'>\r\n                    <h2>Login</h2>\r\n                    <form className='flex-form' onSubmit={handleSubmit}>\r\n                        <input\r\n                            type='email'\r\n                            value={email}\r\n                            onChange={handleChange('email')}\r\n                            placeholder='Email'\r\n                            autoComplete=\"nope\"\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            value={password}\r\n                            onChange={handleChange('password')}\r\n                            placeholder='Password'\r\n                        />\r\n                        <input type='submit' value='Login'/>\r\n                    </form>\r\n                    <span className='separator'><p style={{margin: '2.5rem 0'}}>or</p></span>\r\n                    <Link to='/register' className='login-btn' style={{fontWeight: 'bold'}}>\r\n                        <i className='fa fa-user-plus' style={{marginRight: '0.5rem'}}></i>Create an account\r\n                    </Link>\r\n                    <Link to='/google' className='login-btn google'>\r\n                        <i className='fa fa-google' style={{marginRight: '0.5rem'}}></i>Google\r\n                    </Link>\r\n                    <Link to='/facebook' className='login-btn facebook'>\r\n                        <i className='fa fa-facebook' style={{marginRight: '0.5rem'}}></i>Facebook\r\n                    </Link>\r\n                </div>\r\n                <img src={image} alt='register'/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport image from '../assets/register.jpg';\r\nimport axios from 'axios';\r\nimport { isAuth } from '../helpers/auth';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport default function Register() {\r\n    const [userData, setUserData] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        passwordConfirm: \"\"\r\n    });\r\n\r\n    const {username, email, password, passwordConfirm} = userData;\r\n\r\n    const handleChange = text => e => setUserData({...userData, [text]: e.target.value});\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if(username && email && password) { \r\n            if(password === passwordConfirm){\r\n                axios.post('/users/register', {username ,email ,password})\r\n                    .then(res => {\r\n                        setUserData({\r\n                            ...userData,\r\n                            username: \"\",\r\n                            email: \"\",\r\n                            password: \"\",\r\n                            passwordConfirm: \"\"\r\n                        })\r\n                        toast.success(res.data.message);\r\n                    })\r\n                    .catch(err => {\r\n                        toast.error(err.response.data.error)\r\n                    }) \r\n            } else {\r\n                toast.error('Passwords do not match');\r\n            }\r\n        } else {\r\n            toast.error('Please fill all fields');\r\n        }\r\n    }\r\n    return (\r\n        <div className='background'>\r\n            {isAuth() ? <Redirect to='/'/> : null}\r\n            <ToastContainer/>\r\n            <div className='background-flex'>\r\n                <div className='flex-register'>\r\n                    <h2>Create an Account</h2>\r\n                    <form className='flex-form' onSubmit={handleSubmit}>\r\n                        <input\r\n                            type='text'\r\n                            value={username}\r\n                            onChange={handleChange('username')}\r\n                            placeholder='Username'\r\n                        />\r\n                        <input\r\n                            type='email'\r\n                            value={email}\r\n                            onChange={handleChange('email')}\r\n                            placeholder='Email'\r\n                            autoComplete=\"nope\"\r\n                        />\r\n                        <input\r\n                            type='password'\r\n                            value={password}\r\n                            onChange={handleChange('password')}\r\n                            placeholder='Password'\r\n                        />\r\n                        <input \r\n                            type='password'\r\n                            value={passwordConfirm}\r\n                            onChange={handleChange('passwordConfirm')}\r\n                            placeholder='Confirm password'\r\n                        />\r\n                        <input type='submit' value='Register'/>\r\n                    </form>\r\n                    <span className='separator'><p>or</p></span>\r\n                    <Link to='/login' className='login-btn' style={{fontWeight: 'bold'}}>\r\n                        <i className='fa fa-user' style={{marginRight: '0.5rem'}}></i>Login\r\n                    </Link>\r\n                    <Link to='/google' className='login-btn google'>\r\n                        <i className='fa fa-google' style={{marginRight: '0.5rem'}}></i>Google\r\n                    </Link>\r\n                    <Link to='/facebook' className='login-btn facebook'>\r\n                        <i className='fa fa-facebook' style={{marginRight: '0.5rem'}}></i>Facebook\r\n                    </Link>\r\n                </div>\r\n                <img src={image} alt='register'/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport image from '../assets/activation.jpg';\r\nimport axios from 'axios';\r\nimport jwt from 'jsonwebtoken';\r\nimport { isAuth } from '../helpers/auth';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport default function Register({match}) {\r\n    const [userData, setUserData] = useState({\r\n        username: \"\",\r\n        token: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token;\r\n        console.log(match)\r\n        let {username} = jwt.decode(token);\r\n        if(token){\r\n            setUserData({\r\n                ...userData,\r\n                username,\r\n                token\r\n            })\r\n        }\r\n    }, [match.params]);\r\n\r\n    const {username, token} = userData;\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        axios.post('/users/activation', {token})\r\n            .then(res => {\r\n                setUserData({...userData});\r\n                toast.success(res.data.message);\r\n            })\r\n            .catch(err => toast.error(err.response.data.error))\r\n    }\r\n    return (\r\n        <div className='background'>\r\n            {isAuth() ? <Redirect to='/'/> : null}\r\n            <ToastContainer/>\r\n            <div className='background-flex'>\r\n                <div className='flex-register'>\r\n                    <h2>Activate your account, {username}</h2>\r\n                    <form className='flex-form' onSubmit={handleSubmit}>\r\n                        <input type='submit' value='Activate'/>\r\n                    </form>\r\n                    <span className='separator'><p style={{margin: '4rem 0'}}>or</p></span>\r\n                    <Link to='/register' className='login-btn' style={{fontWeight: 'bold'}}>\r\n                        Register\r\n                    </Link>\r\n                    <Link to='/login' className='login-btn' style={{fontWeight: 'bold'}}>\r\n                        Login\r\n                    </Link>\r\n                </div>\r\n                <img src={image} alt='register'/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { isAuth, signout } from '../helpers/auth';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function User({match, history}) {\r\n    const [userData, setUserData] = useState({\r\n        username: \"\",\r\n        email: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        let userId = localStorage.user;\r\n        if(localStorage.length){\r\n            axios.get(`/users/${userId.replace(/['\"]+/g, '')}`)\r\n                .then(res => {\r\n                    setUserData({\r\n                        username: res.data.username,\r\n                        email: res.data.email\r\n                    })\r\n                    toast.success('Welcome!')\r\n                })\r\n                .catch(err => toast.error(err.response.data.error));\r\n        }\r\n    }, [match.params]);\r\n\r\n    const {username, email} = userData;\r\n\r\n    return (\r\n        <div className='background'>\r\n            <ToastContainer/>\r\n            <div className='background-white'>\r\n                {isAuth() ?\r\n                    (\r\n                        <div className='background-login'>\r\n                            <h2>Welcome, {username}</h2>\r\n                            <h2>You signed in with {email} email</h2>\r\n                            <button\r\n                                onClick={() => {\r\n                                    signout(() => {\r\n                                        toast.success('Signout successful');\r\n                                        history.push('/');\r\n                                    });\r\n                                }}\r\n                            >\r\n                                <i className='fa fa-sign-out' style={{marginRight: '0.4rem'}}/>Signout\r\n                            </button>\r\n                        </div>)    :\r\n                    <div className='background-login'>\r\n                        <h2>Access denied to unauthorized users</h2>\r\n                        <Link to='/login'>\r\n                            <button><i className='fa fa-user' style={{marginRight: '0.4rem'}}/>Login</button>\r\n                        </Link>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport Home from './components/Home';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Activation from './components/Activation';\r\nimport User from './components/User';\r\n\r\nexport default function App() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route exact path='/' component={Home}/>\r\n                <Route path='/register' component={Register}/>\r\n                <Route path='/login' component={Login}/>\r\n                <Route path='/users/activate/:token' component={Activation}/>\r\n                <Route path='/user/:userId' component={User}/>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}